<h2>Отправка HTML сообщения на почту</h2>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Отправка HTML сообщения на почту</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js" title="">
function sendEmailHtml() {
	var name = 'Test Name';
	var email = 'test@email.ru';
	var style = 'style="border: 1px solid rgba(0,0,0,0.4); padding: 5px;"';

	var message = `
		&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"&gt;
		&lt;html&gt;
		&lt;head&gt;
			&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
		&lt;/head&gt;
		&lt;body&gt;
		&lt;table border="0" cellpadding="0" cellspacing="0" style="border-collapse:collapse; margin:0; padding:0;"&gt;
			&lt;tr&gt;
				&lt;td ${style}&gt;&lt;b&gt;Имя&lt;/b&gt;&lt;/td&gt;
				&lt;td ${style}&gt;${name}&lt;/td&gt;
			&lt;/tr&gt;
			&lt;tr&gt;
				&lt;td ${style}&gt;&lt;b&gt;E-mail&lt;/b&gt;&lt;/td&gt;
				&lt;td ${style}&gt;${email}&lt;/td&gt;
			&lt;/tr&gt;
		&lt;/table&gt;
		&lt;/body&gt;
		&lt;/html&gt;`;

	$.get("php/mail.php", {message:message}, function(data) {
	    alert(data);
	});	
}
</v-code>

<v-code lang="php" title="">
&lt;?php
	$to = 'user@example.com, anotheruser@example.com'; // получатель / получатели
	$subject = 'Письмо с сайта';                       // тема письма
	$message = $_GET[message];                         // сообщение
    <u-code>$headers  = 'MIME-Version: 1.0' . "\r\n";</u-code>
    <u-code>$headers .= 'Content-type: text/html; charset=iso-8859-1' . "\r\n";</u-code>
	$my  = mail($to, $subject, $message<u-code>, $headers</u-code>);
	if ($my) {
		echo 'Письмо успешно отправлено!';
    } else {
    	echo 'Письмо не отправлено!';
    }
?&gt;
</v-code>
