<h2>AJAX</h2>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Архитектура клиент-сервер</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<img src="img/js/client-server.jpg" width="400px">

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Способы отправки запроса на сервер</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<ol class="list-num">
    <li>XMLHttpRequest (не используют в явном виде, создаются обертки)</li>
    <li>Fetch (нативный, полифил для IE)</li>
    <li>Axios</li>
</ol>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Формат JSON</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<u-link-wrapper>
    <a href="https://gist.githubusercontent.com/it-school58/90451ec6dd32b4745882f1d3b8b107eb/raw/82d369a0a61622eef9b83bfe0e653c780d593c6f/fruit-catalog.json" target="_blank">JSON каталога товаров на Github Gist (Фрукты)</a>
    <a href="https://gist.githubusercontent.com/it-school58/a487f4a0ff7d1c9a0697cb567ee9d5cf/raw/7f7534ee99e481cf747311401849e42a2222eb3c/
    guitar-catalog.json" target="_blank">JSON каталога товаров на Github Gist (Гитары)</a>
</u-link-wrapper>

<v-code lang="json" title="">
[
    {
        "name": "Apple",
        "count": 100
    },
    {
        "name": "Orange",
        "count": 200
    },
    {
        "name": "Lemon",
        "count": 300
    }
]
</v-code>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Метод Fetch</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<u-link-wrapper>
    <a href="https://learn.javascript.ru/fetch" target="_blank">Fetch</a>
</u-link-wrapper>

<v-code lang="js border" title="">
// fetch возвращает promise
const promise = fetch('url для отправки запроса');
</v-code>

<v-two-code type="js;js" comment="promise;async">
<template v-slot:first>
fetch('https://swapi.co/api/people/1/')
    .then(res => res.json())
    .then(body => console.log(body))
    .catch(error => console.log(error.message))
</template>
<template v-slot:last>
const getResource = async (url) => {
    const res = await fetch(url);
    return await res.json();
}

getResource('https://swapi.co/api/people/1/')
    .then(body => console.log(body))
</template>
</v-two-code>
